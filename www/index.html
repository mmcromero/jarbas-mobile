<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <title>Jarbas V2.1</title>
    <link rel="stylesheet" href="icons/material.css">
    <link rel="stylesheet" href="css/materialize.alterado.css">

    <style type="text/css">
    	body{
			background-color: #f2f2f2;
		}

#topo{
	position: fixed;
	top: 0px;
    z-index: 999;
}

#topo > p{
	margin-left: 70px;
	margin-top: 0px;
}

.logo-topo{
	width: 40px;
    margin-top: 8px;
    margin-left: 20px;
    float: left;
}

#slide-out > li.ativo{
	background-color: #906e42;
}



.submenu-locais{
    position: fixed;
    bottom: 0px;
    width: 100%;
    color: #fff;
    background-color: #13273d;
    height: 45px;
    z-index: 999;
}

.submenu-locais ul {
    position: absolute;
    top: 50%;
    left: 50%;
    margin-right: -50%;
    transform: translate(-50%, -50%);
    height: 45px;
    padding: 0 0 0 0px;
    list-style: none;
    line-height: 44px;
}
.submenu-locais ul li {  
    height: 45px;
    display: inline-block;
}

.submenu-locais ul li.sl {  
    padding: 0px 26px !important;
    margin-left: 3px;
}

.submenu-locais ul li.lg {  
    padding: 0px 0px !important;
    margin-left: 3px;
}

.submenu-locais ul li.ativo{
    color: #f49c14;
    border-bottom:3px solid #f49c14;
}

.submenu-locais ul a {
    padding: 0 2px;
}


.content-menu {
    margin-top: 60px;
}


.margem-baixo-2{margin-bottom: 2px !important;}
.margem-baixo-4{margin-bottom: 4px !important;}
.margem-baixo-6{margin-bottom: 6px !important;}
.margem-baixo-8{margin-bottom: 8px !important;}
.margem-baixo-10{margin-bottom: 10px !important;}
.margem-baixo-15{margin-bottom: 15px !important;}

.titulo-controles{
    border-bottom: 1px solid #ff9800;
    margin: 6px 35px;
    color: #030947;
}
/*.content-menu h5{
    text-align: center;
}*/

    
    </style>
</head>
<body>

	<!-- blue darken-4 -->
	<nav class="indigo darken-4" id="topo">
		<a href="#" data-activates="slide-out" class="button-collapse"><i class="material-icons orange-text">menu</i></a>
        <img class="logo-topo" src="img/logo.png" alt="logo">
        <p>Jarbas - Automação Residencial</p>
    </nav>


	<ul id="slide-out" class="side-nav indigo darken-3">
	    <li>&nbsp;</li>
	    <li class="ativo"><a class="waves-effect waves-light white-text bt-menu-lateral menu-controles">Controles</a></li><li><div class="divider"></div></li>
	    <li><a class="waves-effect waves-light white-text bt-menu-lateral menu-leds">Leds</a></li><li><div class="divider"></div></li>
	    <li><a class="waves-effect waves-light white-text bt-menu-lateral menu-lampadas">Lampadas</a></li><li><div class="divider"></div></li>
	    <li><a class="waves-effect waves-light white-text bt-menu-lateral menu-tomadas">Tomadas</a></li><li><div class="divider"></div></li>
	    <li><a class="waves-effect waves-light white-text bt-menu-lateral menu-configuracoes">Configurações</a></li>
	</ul>


	<div id="menu-controles" class="content-menu ">
            <h5 class="center-align">Controles</h5>

            <nav class="submenu-locais indigo darken-4">
                <ul>
                    <li class="sl ativo"><a class="link-submenu-controle" href="#">Sala</a></li>
                    <li class="sl"><a class="link-submenu-controle" href="#">Crianças</a></li>
                    <li class="sl"><a class="link-submenu-controle" href="#">Escritório</a></li>
                </ul>
            </nav>

            <div id="controle-sub" class="">
                <h6 class="titulo-controles">Surround sound</h6>
                <div class="center-align row">
                    <button type="button" value="1587656775" class="btn-floating btn-large waves-effect waves-light red accent-4" repeticao="1" >On</button>
                    <button type="button" value="1587640455" class="btn-floating btn-large waves-effect waves-light grey darken-4" repeticao="1" >Off</button>
                    <button type="button" value="1587643260" class="btn-floating btn-large waves-effect waves-light grey" repeticao="1" >TV</button>
                    <button type="button" value="1587652695" class="btn-floating btn-large waves-effect waves-light grey" repeticao="1" >AUX</button>
                    
                </div>
                <div class="center-align row">
                    <button type="button" value="1587664935" class="btn-floating btn-largeX waves-effect waves-light grey" repeticao="1" >Vol -</button>
                    <button type="button" value="1587632295" class="btn-floating btn-largeX waves-effect waves-light grey" repeticao="1" >Vol +</button>
                </div>
            </div>


            <div id="controle-tv-sala" class="">
                <h6 class="titulo-controles">TV</h6>
                <div class="center-align row">
                    <button type="button" value="551489775" class="btn-floating btn-large waves-effect waves-light red accent-4" repeticao="1"><i class="material-icons">power_settings_new</i></button>
                    <button type="button" value="551486205" class="btn-floating btn-large waves-effect waves-light grey darken-4" repeticao="1" >▲</button>
                    <button type="button" value="551538735" class="btn-floating btn-large waves-effect waves-light grey" repeticao="1" >input</button>
                </div>
                <div class="center-align row">
                    <button type="button" value="551542815" class="btn-floating btn-large waves-effect waves-light grey darken-4" repeticao="1" >◄</button>
                    <button type="button" value="551494365" class="btn-floating btn-large waves-effect waves-light grey darken-3" repeticao="1" >OK</button>
                    <button type="button" value="551510175" class="btn-floating btn-large waves-effect waves-light grey darken-4" repeticao="1" >►</button>
                </div>
                <div class="center-align row">
                    <button type="button" value="551501505" class="btn-floating btn-large waves-effect waves-light grey" repeticao="1" >Home</button>
                    <button type="button" value="551518845" class="btn-floating btn-large waves-effect waves-light grey darken-4" repeticao="1" >▼</button>
                    <button type="button" value="551541285" class="btn-floating btn-large waves-effect waves-light grey" repeticao="1" >Exit</button>
                </div>
                <div class="center-align row">
                    <button type="button" value="551535165" value2="551527005" class="btn-floating btn-large waves-effect waves-light grey" repeticao="1" >Q.Menu</button>
                    <button type="button" value="551500740" class="btn-floating btn-large waves-effect waves-light grey" repeticao="1" >3D</button>
                    <button type="button" value="551490795" class="btn-floating btn-large waves-effect waves-light grey" repeticao="1" >Back</button>
                </div>
                
                <div class="center-align row">
                    <button type="button" value="551534655" class="btn-floating btn-largeX waves-effect waves-light grey" repeticao="1" >Vol -</button>
                    <button type="button" value="551502015" class="btn-floating btn-largeX waves-effect waves-light grey" repeticao="1" >Vol +</button>
                </div>
                
                <div class="center-align row">
                    <button type="button" value="551489010" class="btn-floating btn-large waves-effect waves-light grey" repeticao="1" >►</button>
                    <button type="button" value="551509410" class="btn-floating btn-large waves-effect waves-light grey" repeticao="1" >| |</button>
                    <button type="button" value="551521650" class="btn-floating btn-large waves-effect waves-light grey" repeticao="1" >▀</button>
                </div>
                <div class="row"></div>
                <div class="row"></div>

            </div>
    </div>

    <div id="menu-leds" class="content-menu hide">
            <h5 class="center-align">Leds</h5>

            <nav class="submenu-locais indigo darken-4">
                <ul>
                    <li class="lg ativo"><a class="link-submenu-led" href="#">Sala</a></li>
                    <li class="lg"><a class="link-submenu-led" href="#">Escada</a></li>
                    <li class="lg"><a class="link-submenu-led" href="#">Crianças</a></li>
                    <li class="lg"><a class="link-submenu-led" href="#">Escritório</a></li>
                    <li class="lg"><a class="link-submenu-led" href="#">Casal</a></li>
                    <li class="lg"><a class="link-submenu-led" href="#">Externas</a></li>
                </ul>
            </nav>
            
            <div class="center-align margem-baixo-2">
                <button type="button" value="16187647" value2="16748655" class="btn-floating btn-large waves-effect waves-light grey" repeticao="5" >▲</button>
                <button type="button" value="16220287" value2="16758855" class="btn-floating btn-large waves-effect waves-light grey" repeticao="5" >▼</button>
                <button type="button" value="16203967" value2="16775175" class="btn-floating btn-large waves-effect waves-light grey darken-4" repeticao="5" >OFF</button>
                <button type="button" value="16236607" value2="16756815" class="btn-floating btn-large waves-effect waves-light red accent-4" repeticao="5" >ON</button>
            </div>
            <div class="center-align margem-baixo-2">
                <button type="button" value="16195807" value2="16750695" class="btn-floating btn-large waves-effect waves-light red" repeticao="5">&emsp;</button>
                <button type="button" value="16228447" value2="16767015" class="btn-floating btn-large waves-effect waves-light green" repeticao="5">&emsp;</button>
                <button type="button" value="16212127" value2="16746615" class="btn-floating btn-large waves-effect waves-light blue" repeticao="5">&emsp;</button>
                <button type="button" value="16244767" value2="16754775" class="btn-floating btn-large waves-effect waves-light white" repeticao="5">&emsp;</button>
            </div>
            <div class="center-align margem-baixo-2">
                <button type="button" value="16191727" value2="16771095" class="btn-floating btn-large waves-effect waves-light yellow darken-4" repeticao="5" >&emsp;</button>
                <button type="button" value="16224367" value2="16730295" class="btn-floating btn-large waves-effect waves-light light-green" repeticao="5" >&emsp;</button>
                <button type="button" value="16208047" value2="16738455" class="btn-floating btn-large waves-effect waves-light indigo" repeticao="5" >&emsp;</button>
                <button type="button" value="16240687" value2="16757325" class="btn-floating btn-large waves-effect waves-light grey" repeticao="5" >flash</button>
            </div>
            <div class="center-align margem-baixo-2">
                <button type="button" value="16199887" value2="16712445" class="btn-floating btn-large waves-effect waves-light yellow darken-3" repeticao="5" >&emsp;</button>
                <button type="button" value="16232527" value2="16724685" class="btn-floating btn-large waves-effect waves-light green accent-2" repeticao="5" >&emsp;</button>
                <button type="button" value="16216207" value2="16720095" class="btn-floating btn-large waves-effect waves-light purple darken-4" repeticao="5" >&emsp;</button>
                <button type="button" value="16248847" value2="16711935" class="btn-floating btn-large waves-effect waves-light grey" repeticao="5" >strobe</button>
            </div>
            <div class="center-align margem-baixo-2">
                <button type="button" value="16189687" value2="16732335" class="btn-floating btn-large waves-effect waves-light yellow accent-2" repeticao="5" >&emsp;</button>
                <button type="button" value="16222327" value2="16742535" class="btn-floating btn-large waves-effect waves-light cyan lighten-1" repeticao="5" >&emsp;</button>
                <button type="button" value="16206007" value2="16740495" class="btn-floating btn-large waves-effect waves-light purple darken-3" repeticao="5" >&emsp;</button>
                <button type="button" value="16238647" value2="16734375" class="btn-floating btn-large waves-effect waves-light grey" repeticao="5" >fade</button>
            </div>
            <div class="center-align margem-baixo-15">
                <button type="button" value="16197847" value2="16726215" class="btn-floating btn-large waves-effect waves-light yellow accent-1" repeticao="5" >&emsp;</button>
                <button type="button" value="16230487" value2="16722135" class="btn-floating btn-large waves-effect waves-light light-blue darken-2" repeticao="5" >&emsp;</button>
                <button type="button" value="16214167" value2="16773135" class="btn-floating btn-large waves-effect waves-light pink darken-4" repeticao="5" >&emsp;</button>
                <button type="button" value="16246807" value2="16724175" class="btn-floating btn-large waves-effect waves-light grey" repeticao="5" >smooth</button>
            </div>

            <div class="center-align swith-led hide">
            <label>controlar todas</label>
                <div class="switch">
                    <label>
                      Off
                      <input type="checkbox">
                      <span class="lever"></span>
                      On
                    </label>
                </div>
            </div>
    </div>

    <div id="menu-lampadas" class="content-menu hide">
        <h5 class="">Lampadas</h5>
    </div>
            
    <div id="menu-tomadas" class="content-menu hide">
        <h5 class="">Tomadas</h5>
    </div>    

    <div id="menu-configuracoes" class="content-menu hide">
        <h5 class="">Configurações</h5>
    </div>   


    <script src="js/jquery.min.js"></script>
    <script src="js/materialize.min.js"></script>

    <script type="text/javascript">
    	
        var repeticaoLed = "1"
        var localLed ="S";
        var localControle="S";

        //inicializa bt do menu lateral
    	$(".button-collapse").sideNav();

    	

        /*EVENTOS DE CLICK*/
        $('.lever').on('click', function(){
            navigator.vibrate(40);
        });



        $('#menu-controles button').on('click', function() {
            navigator.vibrate(20);
            if(localControle != "S"){

                //saida nodeMcu
                //EX:ir?codigo=1111&repeticao=2&local=S
                //codigo = $(this).val()
                //repeticao = repeticaoLed
                //local= localControle
                var ipSend = "192.168.0.88";
                var saida = "ir?codigo=" + $(this).val() + "&repeticao=" + $(this).attr('repeticao') + "&local=" + localControle;
            }else{
                //Saida Arduino Mega
                //EX:ir?[repeticao][codigo][local]
                //repeticao =  $(this).attr('repeticao');
                //codigo = $(this).val()
                //local= localControle
                var ipSend = "192.168.0.46:8080";
                var saida = "ir?" + $(this).attr('repeticao') + $(this).val() + localControle;
            }
            
            console.log(saida);
            console.log("http://"+ipSend+"/"+saida);
            $.post("http://"+ipSend+"/"+saida); 
        });

        $('#menu-leds button').on('click', function() {
            navigator.vibrate(20);
            
            if(localLed != "S"){

                //saida nodeMcu
                //EX:ir?codigo=1111&repeticao=2&local=S
                //codigo = $(this).val()
                //repeticao = repeticaoLed
                //local= localLed
                var ipSend = "192.168.0.88";
                var saida = "ir?codigo=" + $(this).val() + "&repeticao=" + $(this).attr('repeticao') + "&local=" + localLed;
            }else{
                //Saida Arduino Mega
                //EX:ir?[repeticao][codigo][local]
                //repeticao =  $(this).attr('repeticao');
                //codigo = $(this).val()
                //local= localLed
                var ipSend = "192.168.0.46:8080";
                var saida = "ir?" + $(this).attr('repeticao') + $(this).val() + localLed;
            }

            console.log(saida);
            console.log("http://"+ipSend+"/"+saida);
            $.post("http://"+ipSend+"/"+saida); 
        });



        

        $('.bt-menu-lateral').on('click', function(){
    		$('.bt-menu-lateral').parent().removeClass('ativo');
    		$(this).parent().addClass('ativo');
    		$('.button-collapse').sideNav('hide');


            if($(this).hasClass("menu-controles")){
                $(".content-menu").addClass("hide");
                $("#menu-controles").removeClass("hide");
                console.log("menu controles");
            }
            if($(this).hasClass("menu-leds")){
                $(".content-menu").addClass("hide");
                $("#menu-leds").removeClass("hide");
                console.log("menu leds");
            }
            if($(this).hasClass("menu-lampadas")){
                $(".content-menu").addClass("hide");
                $("#menu-lampadas").removeClass("hide");
                console.log("menu lampadas");
            }
            if($(this).hasClass("menu-tomadas")){
                $(".content-menu").addClass("hide");
                $("#menu-tomadas").removeClass("hide");
                console.log("menu tomadas");
            }
            if($(this).hasClass("menu-configuracoes")){
                $(".content-menu").addClass("hide");
                $("#menu-configuracoes").removeClass("hide");
                console.log("menu configuracoes");
            }
            navigator.vibrate(30);
    	});

        $('.link-submenu-controle').on('click', function(){
            $('.link-submenu-controle').parent().removeClass('ativo');
            $(this).parent().addClass('ativo');
            navigator.vibrate(30);
            
            if($(this).text() === "Sala"){
                localControle = "S";
            }
            if($(this).text() === "Crianças"){
                localControle = "K";
            }
            if($(this).text() === "Escritório"){
                localControle = "M";
            }
        });

        $('.link-submenu-led').on('click', function(){
            

            $('.link-submenu-led').parent().removeClass('ativo');
            $(this).parent().addClass('ativo');
            navigator.vibrate(30);


            
            if($(this).text() === "Sala"){
                localLed = "S";
                console.log(localLed);
            }
            if($(this).text() === "Escada"){
                localLed = "E";
                console.log(localLed);
            }
            if($(this).text() === "Crianças"){
                localLed = "K";
                console.log(localLed);
            }
            if($(this).text() === "Escritório"){
                localLed = "M";
                console.log(localLed);
            }
            if($(this).text() === "Casal"){
                localLed = "C";
                console.log(localLed);
            }

            if($(this).text() === "Externas"){
                localLed = "F";
                console.log(localLed);
                $(".swith-led").removeClass('hide');
            }else{
                $(".swith-led").addClass('hide');
            }

        });

    </script>

</body>
</html>
